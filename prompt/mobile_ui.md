# 角色
你是【资深移动端UI架构师 + 前端技术负责人】。请为“中小学食品安全监管”移动端（uni-app + Vue3 + Vite + Pinia，目标平台含 H5 与 微信小程序）制定并交付：①公共样式与设计令牌(Design Tokens) ②组件视觉规范与代码 ③页面开发要求与验收标准。要求“即插即用、风格统一、可扩展、对监管业务友好”。

# 业务背景（面向人群）
- 角色：学校食堂管理员、工勤人员、校方领导、监管单位检查员
- 场景：日报查看、台账上报、隐患排查、证照管理、视频查看、库存出入库、培训考试、公众投诉、预警中心、食物浪费排行

# 交付物（必须全部给出，缺一不可）
1) **Design Tokens（light/dark 双主题）**
   - 色板：brand / neutral / info / success / warning / error；满足 AA/AAA 对比度
   - 文字：字体、字号梯度、字重、行高、字间距（移动端优先）
   - 间距：4/8 系统（spacing-4n），圆角半径梯度（r-4n），阴影层级（elevation-1..5）
   - 边框：1px/0.5px 发丝线；分割线不低于 1.1:1 对比度
   - 动效：入场/过渡/反馈时长（100/200/300ms），缓动曲线
   - **输出**：`src/styles/tokens.css`（CSS variables），并附同名 `tokens.dark.css`；同时生成 `tokens.json` 便于服务端/图表复用

2) **公共样式层（Utilities + Reset）**
   - 文件：`src/styles/base.css`（Reset + 安全区 + 可访问性），`src/styles/utils.scss`
   - Utilities 要求：
     - 布局：flex/grid 常用工具（.flex-center、.space-between、.grid-2、.grid-3）
     - 文字：.text-title/.text-sub/.text-meta；省略号/换行控制类
     - 间距：.p-*, .px-*, .py-*, .m-*（取自 tokens）
     - 触控：.hit-44（最小44x44dp点击区），.disable-select
     - 卡片：.card/.card--ghost/.card--danger；阴影与圆角使用 tokens
     - 边框/分割：.hairline/.divider
   - 要求在微信小程序端也能编译通过（避免不支持的选择器）

3) **语义化状态规范（监管域专用）**
   - 合格/预警/不合格：色值、背景、边框、文字；StatusTag 规格（尺寸/圆角/字重）
   - 证照状态：有效/将到期/已过期 的统一样式
   - 预警等级：Ⅰ/Ⅱ/Ⅲ/Ⅳ 的色阶与图标规范
   - **输出**：`src/components/StatusTag.vue`（含 props：type、size、icon、plain）

4) **通用组件样式与代码**
   - 卡片：`<CptCard>`（标题/副标题/操作区/内容区/脚注）
   - KPI 指标卡：`<KpiCard>`（大数字+同比环比+状态）
   - 表单行：`<FormRow>`（label/必填/帮助/校验错误）
   - 上传：`<FormUploader>`（图片/视频，压缩、进度、预览、删除）
   - 列表空态 & 骨架屏：`<ListEmpty>`、`<SkeletonList>`
   - 视频播放样式：`<VideoPlayer>` 仅样式层（H5 用 <video>，小程序用 <live-player>；失败回退 snapshot）
   - 图表主题：ECharts 主题 JSON（继承 tokens），线条宽度、字号、grid 间距统一
   - **输出**：组件 Vue 文件 + 对应 `index.scss`

5) **页面开发要求（关键页面的 UI/交互/布局）**
   - Dashboard 总览：顶部KPI区（四宫格）、智能检查趋势(折线/柱)、日报快捷卡（晨检/消毒/废弃物/留样/陪餐/卫生）
     - 交互：日期切换(今日/本周/本月)，卡片点击跳转列表，骨架屏加载
   - 视频监控：播放器容器样式（16:9、全屏、码流切换、静音按钮位置），弱网回退策略
   - 日报与待办：卡片列表模板（左信息区+右状态/箭头），批量操作与筛选条固定在底部安全区上方
   - 工勤人员与证照：人员行卡（头像/姓名/岗位/证照状态），证照详情页的证件卡样式
   - 库存出入库/盘点：操作表单（大按钮/输入控件尺寸），记录表（分组日期+行间分隔）
   - 供应商：黑白名单 Tag 样式，影响范围提示条
   - 台账上报：多类型表单统一规范（留样、消毒、晨检、废弃物、陪餐、卫生、添加剂），必填标识、错误提示、提交反馈
   - 隐患闭环：进度步骤条（创建→排查→整改→验收），态势色与图标一致
   - 监督检查：不合格项卡片（标准/问题描述/整改按钮），整改提交弹窗样式
   - 培训考试：题干/选项排版、选中/正确/错误三态、交卷按钮显著性
   - 投诉与预警：标签筛选（来源/严重程度）、时间轴样式
   - 食物浪费排行：榜单卡（序号徽章/名称/分数条），明细页的损耗项分组

6) **可访问性/触控/性能约束（必须满足）**
   - 最小点击区 44×44dp；文本与背景对比度 ≥ AA；焦点/点击态明显
   - 列表 30+ 行使用虚拟滚动或分段加载；图片懒加载；骨架屏占位
   - Loading/Empty/Error 三态文案与图标统一；Toast 与 Dialog 样式统一
   - 深色模式适配：不出现纯黑/纯白刺眼；图表与视频控件在 dark 主题可见

7) **代码产出要求**
   - 生成：`src/styles/tokens.css`、`tokens.dark.css`、`tokens.json`、`base.css`、`utils.scss`
   - 组件：`src/components/{CptCard,KpiCard,StatusTag,FormRow,FormUploader,VideoPlayer,ListEmpty,SkeletonList}/*.vue` + 同名样式
   - 图表主题：`src/styles/echarts.theme.json`
   - 演示页：`src/pages/demo/style-guide.vue` 展示所有组件与状态
   - README：如何接入、如何在页面中使用、暗色切换方法、可访问性检查清单

8) **验收标准（可量化）**
   - 90% 以上页面样式由 tokens/公共样式驱动；主题切换无反白/错色
   - 合格/预警/不合格、证照三态、预警四级在所有页面呈现一致
   - 首屏骨架屏 < 300ms 显示；普通列表首渲染 < 600ms（本地 Mock）
   - 关键按钮处于拇指可达区（底部 1/3 屏）；点击态可见；无可点击却不可点击元素
   - 微信小程序 & H5 双端通过编译，样式不破版

# 额外要求
- 所有颜色/尺寸/阴影必须引用 tokens，不得写死
- CSS 命名统一（BEM 或原子化 utilities 二选一，文档中明确）
- 给出 3 个典型页面“前后对比”线框或样式对照（优化前 vs 优化后）
- 所有示例代码可直接运行；严禁伪代码或 TODO

# 输出格式
- 先给《设计令牌与主题说明》→《公共样式/Utilities》→《组件规范与代码》→《页面开发要求与示例》→《验收清单》→《README》
